(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4354878"],{"20db":function(t,e,s){"use strict";var a=s("5854"),r=s.n(a);r.a},5854:function(t,e,s){},"9cab":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-3"},[s("NavTabs"),t.isLoading?s("Spinner"):t._e(),s("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("NewestRestaurants",{attrs:{restaurants:t.restaurants}})],1),s("div",{staticClass:"col-lg-6"},[s("NewestComments",{attrs:{comments:t.comments}})],1)])])],1)},r=[],n=(s("96cf"),s("3b8d")),i=s("c4c3"),c=s("2fa3"),o=s("8bb1"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mt-3 border-0 shadow-sm"},[t._m(0),s("div",{staticClass:"card-body"},t._l(t.restaurants,function(e){return s("div",{key:e.id},[s("div",{staticClass:"d-flex justify-content-between"},[s("h4",{staticClass:"m-0"},[s("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(t._s(e.name))])],1),s("small",{staticClass:"datetime d-block text-right"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),s("small",{staticClass:"category"},[t._v(t._s(e.Category&&e.Category.name))]),e.description?s("p",{staticClass:"mt-3"},[t._v(t._s(t._f("shortenContent")(e.description)))]):s("p",{staticClass:"mt-3"},[t._v("No description")]),s("hr")])}),0)])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header bg-white border-0"},[s("p",{staticClass:"border-bottom m-0 pb-2"},[s("i",{staticClass:"fas fa-store-alt mr-2"}),t._v("最新餐廳\n    ")])])}],m=s("2708"),u={mixins:[m["a"],m["c"]],props:{restaurants:{type:Array,required:!0}}},f=u,p=s("2877"),v=Object(p["a"])(f,l,d,!1,null,null,null),_=v.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mt-3 border-0 shadow-sm"},[t._m(0),s("div",{staticClass:"card-body"},t._l(t.comments,function(e){return s("div",{key:e.id},[s("div",{staticClass:"d-flex justify-content-between"},[s("h4",{staticClass:"m-0"},[s("router-link",{attrs:{to:{name:"restaurant",params:{id:e.Restaurant.id}}}},[t._v(t._s(e.Restaurant.name))])],1),s("small",{staticClass:"datetime d-block text-right"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),s("small",[s("i",{staticClass:"far fa-user mr-2"}),s("router-link",{attrs:{to:{name:"user",params:{id:e.UserId}}}},[t._v(t._s(e.User.name))])],1),s("p",{staticClass:"mt-3"},[t._v(t._s(e.text))]),s("hr")])}),0)])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header bg-white border-0"},[s("p",{staticClass:"border-bottom m-0 pb-2"},[s("i",{staticClass:"fas fa-comment-alt mr-2"}),t._v("最新評論\n    ")])])}],C={mixins:[m["a"]],props:{comments:{type:Array,required:!0}}},w=C,g=(s("20db"),Object(p["a"])(w,b,h,!1,null,"33ddb931",null)),y=g.exports,x=s("2375"),k={components:{NavTabs:o["a"],NewestRestaurants:_,NewestComments:y,Spinner:x["a"]},data:function(){return{restaurants:[],comments:[],isLoading:!0}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].getFeeds();case 3:if(e=t.sent,s=e.data,a=e.statusText,"OK"===a){t.next=8;break}throw new Error(a);case 8:this.restaurants=s.restaurants,this.comments=s.comments,this.isLoading=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),this.isLoading=!1,c["a"].fire({type:"error",title:"Cannot retrieve restaurant feed, please try again later!"});case 17:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}()}},N=k,j=Object(p["a"])(N,a,r,!1,null,null,null);e["default"]=j.exports}}]);
//# sourceMappingURL=chunk-e4354878.d177aad7.js.map