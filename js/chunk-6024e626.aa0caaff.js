(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6024e626"],{ca82:function(e,t,a){},da5c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.isLoading?a("Spinner"):e._e(),a("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-10 col-lg-8 offset-md-1 offset-lg-2"},[a("h2",{staticClass:"pt-3"},[e._v("Edit Profile")]),a("form",{staticClass:"py-3",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name",placeholder:"Enter Name",required:""},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email"}],staticClass:"form-control",attrs:{id:"email",type:"text",name:"email",placeholder:"Enter Email",required:""},domProps:{value:e.profile.email},on:{input:function(t){t.target.composing||e.$set(e.profile,"email",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[e._v("Image")]),e.profile.image&&e.imgIsLoading?a("div",{staticClass:"placeholder-img d-flex justify-content-center align-items-center rounded"},[a("Spinner",{staticClass:"p-0"})],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.profile.image&&!e.imgIsLoading,expression:"profile.image && !imgIsLoading"}],staticClass:"img-container"},[a("transition",{attrs:{name:"img-fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:e.profile.image&&!e.imgIsLoading,expression:"profile.image && !imgIsLoading"}],key:e.profile.image,staticClass:"img-fluid d-block rounded",attrs:{src:e.profile.image,alt:"Profile picture",width:"200",height:"200"},on:{load:e.changeLoading}})])],1),a("input",{staticClass:"form-control-file mt-2",attrs:{id:"image",type:"file",name:"image",accept:"image/*"},on:{change:e.handleFileChange}})]),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.isProcessing,type:"submit"}},[e._v("Submit")])])])])])],1)},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),s=(a("96cf"),a("3b8d")),o=a("4cce"),c=a("2fa3"),l=a("2375");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u={name:"UserEdit",components:{Spinner:l["a"]},data:function(){return{profile:{id:-1,name:"",image:"",email:""},isLoading:!0,imgIsLoading:!0,isProcessing:!1}},created:function(){var e=this.$route.params.id;this.fetchProfile(e)},methods:{changeLoading:function(){this.imgIsLoading=!1},fetchProfile:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].get({userId:t});case 3:if(a=e.sent,i=a.data,r=a.statusText,"OK"===r&&"success"===i.status){e.next=8;break}throw new Error(r);case 8:this.profile=p({},this.profile,{id:i.owner.id,name:i.owner.name,email:i.owner.email,image:i.owner.image}),this.isLoading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),this.isLoading=!1,c["a"].fire({type:"error",title:"Cannot get you data, please try again later"});case 16:case"end":return e.stop()}},e,this,[[0,12]])}));function t(t){return e.apply(this,arguments)}return t}(),handleFileChange:function(e){var t=e.target.files;if(t.length){var a=window.URL.createObjectURL(t[0]);this.profile.image=a}},handleSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,i,r,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.target,i=new FormData(a),e.prev=2,this.isProcessing=!0,e.next=6,o["a"].updateUser({userId:this.profile.id,formData:i});case 6:if(r=e.sent,n=r.data,s=r.statusText,"OK"===s&&"success"===n.status){e.next=11;break}throw new Error(s);case 11:this.isProcessing=!1,this.$router.push({name:"user",params:{id:this.profile.id}}),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),this.isProcessing=!1,c["a"].fire({type:"error",title:"Cannot update your profile, please try again later"});case 19:case"end":return e.stop()}},e,this,[[2,15]])}));function t(t){return e.apply(this,arguments)}return t}()}},f=u,d=(a("ff1a"),a("2877")),g=Object(d["a"])(f,i,r,!1,null,"fa1ba3a8",null);t["default"]=g.exports},ff1a:function(e,t,a){"use strict";var i=a("ca82"),r=a.n(i);r.a}}]);
//# sourceMappingURL=chunk-6024e626.aa0caaff.js.map